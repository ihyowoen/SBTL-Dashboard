<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SBTL Strategic Watchlist 2026</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- PapaParse -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'Noto Sans KR', 'sans-serif'],
                        mono: ['JetBrains Mono', 'Menlo', 'Monaco', 'Consolas', 'monospace'],
                    },
                    colors: {
                        slate: {
                            850: '#1e293b',
                            900: '#0f172a',
                            950: '#020617',
                        }
                    },
                    boxShadow: {
                        'glow': '0 0 15px rgba(56, 189, 248, 0.3)',
                        'card': '0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03)',
                    }
                }
            }
        }
    </script>

    <style>
        body { 
            transition: background-color 0.3s ease;
        }
        .bg-grid-pattern {
            background-image: 
                linear-gradient(to right, rgba(148, 163, 184, 0.1) 1px, transparent 1px),
                linear-gradient(to bottom, rgba(148, 163, 184, 0.1) 1px, transparent 1px);
            background-size: 40px 40px;
        }
        .dark .bg-grid-pattern {
            background-image: 
                linear-gradient(to right, rgba(148, 163, 184, 0.05) 1px, transparent 1px),
                linear-gradient(to bottom, rgba(148, 163, 184, 0.05) 1px, transparent 1px);
        }
        
        .glass-panel {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.6);
        }
        .dark .glass-panel {
            background: rgba(30, 41, 59, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .tech-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .tech-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px -10px rgba(37, 99, 235, 0.15);
        }
        .dark .tech-card:hover {
            box-shadow: 0 10px 30px -10px rgba(56, 189, 248, 0.1);
            border-color: #3b82f6;
        }

        .custom-scrollbar::-webkit-scrollbar { width: 6px; height: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 3px; }
        .dark .custom-scrollbar::-webkit-scrollbar-thumb { background-color: #475569; }
        
        .animate-fade-in { animation: fadeIn 0.5s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .tech-badge {
            font-family: 'Inter', sans-serif;
            letter-spacing: -0.025em;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-slate-100 bg-grid-pattern min-h-screen">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo, useEffect } = React;

        // [LIVE] 구글 스프레드시트 연동
        const GOOGLE_SHEET_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vTErH9vagDQpDD-kL-Be6R1GIQullxNOdWSGRTlJLsaM5kM3QVWAKLXeueINGTz8A6tdRg3dIYgLKfg/pub?gid=0&single=true&output=csv";
        
        // [SHARED CALENDAR] 공유 캘린더 링크
        const SHARED_CALENDAR_URL = "https://calendar.google.com/calendar/embed?src=19fce734cc87c91885adab920252ab64879bb99726ddd46165eb0e2bf783727f%40group.calendar.google.com&ctz=Asia%2FSeoul";

        const PERSONAS = { ALL: '전체', SBTL: 'SBTL 첨단소재 맞춤' };
        const STATUSES = ['전체', '접수중', '마감임박', '접수예정', '마감'];

        // [DATA] Static Backup (최후의 수단 - Factory Reset용)
        const RAW_DATA = [
            { id: 801, start: '2026-01-02', end: '2026-01-31', title: '2026년 화성시 중소기업 육성자금 지원사업 (운전/시설자금)', source: '[화성] 지자체·산하기관', url: 'https://platform.hsbiz.or.kr/business/list', category: '금융·자금' },
            { id: 802, start: '2026-01-20', end: '2026-02-14', title: '2026년 화성시 국내외 전시회 참가비 지원사업', source: '[화성] 지자체·산하기관', url: 'https://platform.hsbiz.or.kr/business/list', category: '수출·판로' },
            { id: 803, start: '2026-02-01', end: '2026-11-30', title: '2026년 화성시 기술닥터(기술애로 해결) 지원사업', source: '[화성] 지자체·산하기관', url: 'https://platform.hsbiz.or.kr/business/list', category: 'R&D·기술' },
            { id: 401, start: '2025-12-17', end: '2026-01-09', title: '2026년 글로벌 강소기업 1000+프로젝트 참여기업 모집공고', source: '[경기] 지자체·산하기관', url: 'https://www.egbiz.or.kr/sp/supportPrjOutsideList.do', category: '수출·판로' },
            { id: 402, start: '2025-12-15', end: '2026-12-31', title: '경기R&DB센터, 광교비즈니스센터 입주기업 모집', source: '[경기] 지자체·산하기관', url: 'https://www.egbiz.or.kr/sp/supportPrjOutsideDtl.do?listUrl=supportPrjOutsideList&bizCyclId=PD000000050904', category: '창업·입주' },
            { id: 403, start: '2025-12-09', end: '2026-01-16', title: '경기도 소공인 복합지원센터 확대구축사업 참여기관 추가 모집', source: '[경기] 지자체·산하기관', url: 'https://www.egbiz.or.kr/sp/supportPrjOutsideDtl.do?listUrl=supportPrjOutsideList&bizCyclId=PD000000050844', category: '지역특화' },
            { id: 404, start: '2025-12-08', end: '2026-01-07', title: '2026년도 정부형 스마트공장 구축사업 공고 (경기TP)', source: '[경기] 지자체·산하기관', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C128/AS/74/view.do?pblancId=PBLN_000000000116263', category: '기술도입' },
            { id: 301, start: '2026-01-12', end: '2026-02-13', title: '[화성] 2026년 화성청년 취업역량강화 사업 참여기업 모집', source: '[화성] 지자체·산하기관', url: 'https://platform.hsbiz.or.kr/business/detail/N/1077', category: '인력·교육' },
            { id: 302, start: '2026-01-12', end: '2026-02-06', title: '2026년 스마트 생태공장 구축사업 공고', source: '환경부', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C128/AS/74/view.do?pblancId=PBLN_000000000116926', category: 'R&D·기술' },
            { id: 303, start: '2025-12-22', end: '2026-01-16', title: '2026년 대ㆍ중소기업 안전보건 상생협력사업 공고', source: '고용노동부', url: 'https://www.moel.go.kr/info/publict/publictView.do?bbs_seq=20251201295', category: '경영·컨설팅' },
            { id: 304, start: '2025-12-15', end: '2026-01-23', title: '2026년 자동차ㆍ조선산업 발전 유공 자동차산업 포상 공고', source: '산업통상자원부', url: 'https://www.motie.go.kr/kor/article/ATCLf724eb567/212722/view', category: '행사·네트워킹' },
            { id: 305, start: '2025-12-15', end: '2026-10-30', title: '산업혁신기반구축사업 과제 (금형기반 생산기술 디지털전환) 수혜기업 모집', source: '산업통상자원부', url: 'https://platform.hsbiz.or.kr/business/detail/N/1075', category: 'R&D·기술' },
            { id: 306, start: '2026-01-01', end: '2026-12-31', title: '2026년 스마트제조혁신 지원사업 통합공고', source: '중소벤처기업부', url: 'https://www.smart-factory.kr/usr/bg/ba/ma/bsnsPblanc/view.do?bbsSeq=1023', category: 'R&D·기술' },
            { id: 601, start: '2025-12-22', end: '2026-01-09', title: '2026년 수출지원기반활용사업 참여기업 모집 공고 (산업부 산업바우처)', source: '산업통상자원부', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C128/AS/74/view.do?pblancId=PBLN_000000000116978', category: '수출·판로' },
            { id: 701, start: '2025-11-13', end: '2026-02-28', title: '2026년도 과학기술정보통신부 기초연구사업 1차 신규과제 공모 (선도연구센터 등)', source: '과학기술정보통신부', url: 'https://www.msit.go.kr/bbs/view.do?sCode=user&mId=311&mPid=121&bbsSeqNo=100&nttSeqNo=3186344', category: 'R&D·기술' },
            { id: 702, start: '2025-12-11', end: '2026-01-30', title: '2026년 ICT 학점연계 프로젝트 인턴십 국내/글로벌 과정 모집', source: '과학기술정보통신부', url: 'https://msit.go.kr/bbs/view.do?sCode=user&mPid=121&mId=311&bbsSeqNo=100&nttSeqNo=3186354', category: '인력·교육' },
            { id: 703, start: '2025-11-06', end: '2026-04-15', title: '2026년도 정보통신 및 정보문화 유공 정부포상 계획 공고', source: '과학기술정보통신부', url: 'https://www.msit.go.kr/bbs/view.do?sCode=user&mId=311&mPid=121&bbsSeqNo=100&nttSeqNo=3186333', category: '행사·네트워킹' },
            { id: 1, start: '2025-12-22', end: '2026-01-28', title: 'AI컴퓨팅자원 활용기반 강화사업 (첨단 GPU 활용 지원)', source: '정보통신산업진흥원', url: 'https://www.nipa.kr/home/2-2/16423', category: 'R&D·기술' },
            { id: 2, start: '2025-12-19', end: '2026-12-31', title: '2026년도 하노이IT지원센터 공용공간 이용기업 모집', source: '정보통신산업진흥원', url: 'https://www.nipa.kr/home/2-2/16421', category: '수출·판로' },
            { id: 3, start: '2025-12-19', end: '2026-01-19', title: '2026년 지역 가상융합산업혁신센터 모집 공고', source: '정보통신산업진흥원', url: 'https://www.nipa.kr/home/2-2/16417', category: 'R&D·기술' },
            { id: 4, start: '2025-12-15', end: '2025-12-31', title: '하노이IT지원센터 2026년 한-베 협력 한국 IT스타트업 지원사업 공모', source: '정보통신산업진흥원', url: 'https://www.nipa.kr/home/2-2/16416', category: '수출·판로' },
            { id: 5, start: '2025-12-19', end: '2026-12-31', title: '2026년 SW분야 퇴직예정자 전직지원사업 수행기관 모집 공고', source: '중소벤처기업부', url: 'https://www.mss.go.kr/site/smba/ex/bbs/List.do?cbIdx=81', category: '인력·교육' },
            { id: 6, start: '2025-12-24', end: '2026-01-05', title: '상호금융업감독규정 일부개정고시안 규정변경예고', source: '금융위원회', url: 'https://www.fsc.go.kr/po040301/83572', category: '정책·규제' },
            { id: 7, start: '2025-12-24', end: '2026-02-02', title: '금융투자업규정 일부개정고시안 규정변경예고', source: '금융위원회', url: 'https://www.fsc.go.kr/po040301/83571', category: '정책·규제' },
            { id: 8, start: '2025-12-24', end: '2026-02-02', title: '서민의 금융생활 지원에 관한 법률 시행령 일부개정령(안) 입법예고', source: '금융위원회', url: 'https://www.fsc.go.kr/po040301/83570', category: '정책·규제' },
            { id: 9, start: '2025-12-23', end: '2025-12-23', title: '2026년 10대 메가프로젝트 기술산업화 사업공고', source: '산업통상자원부', url: 'https://www.motie.go.kr/kor/article/ATCLc01b2801b/70720/view', category: 'R&D·기술' },
            { id: 10, start: '2025-12-23', end: '2025-12-23', title: '2026년 기업수요기반 1% MVP 프로젝트 사업 공고', source: '산업통상자원부', url: 'https://www.motie.go.kr/kor/article/ATCLc01b2801b/70719/view', category: 'R&D·기술' },
            { id: 11, start: '2025-12-23', end: '2025-12-23', title: '2026년도 산업통상부-중소벤처기업부 연구개발사업 통합 시행계획 공고', source: '산업통상자원부', url: 'https://www.motie.go.kr/kor/article/ATCLf724eb567/212790/view', category: '통합공고' },
            { id: 12, start: '2025-12-24', end: '2026-01-30', title: '2026년도 한-캐나다 탄소중립 협력플랫폼 구축·운영 사업 수행기관 모집 공고', source: '한국환경산업기술원', url: 'https://www.keiti.re.kr/site/keiti/ex/bbs/View.do?cbIdx=1289&bcIdx=35511', category: 'R&D·기술' },
            { id: 15, start: '2025-12-27', end: '2026-12-31', title: '모바일 주민등록증 시범 발급', source: '행정안전부', url: 'https://www.korea.kr/multi/visualNewsView.do?newsId=148936960', category: '정책·규제' },
            { id: 16, start: '2025-12-31', end: '2025-12-31', title: '금융투자소득세 폐지 및 관련 세법 개정안 국회 통과 여부 결정 시한', source: '국회', url: 'https://likms.assembly.go.kr/bill/main.do', category: '정책·규제' },
            { id: 17, start: '2025-12-18', end: '2026-01-05', title: '2026년 제1기 서울키움센터 입주기업 모집 공고', source: '[서울] 지자체·산하기관', url: 'https://www.seoul.go.kr/news/news_notice.do#view/435820', category: '창업·입주' },
            { id: 18, start: '2025-12-24', end: '2026-01-04', title: '한국섬진흥원 2025년도 제4차 신규직원 채용 공고 알림', source: '행정안전부', url: 'https://www.mois.go.kr/frt/bbs/type013/commonSelectBoardArticle.do?bbsId=BBSMSTR_000000000006&nttId=122624', category: '인력·교육' },
            { id: 19, start: '2026-01-19', end: '2026-01-29', title: '2026년 내수면 유·도선 현대화 이차보전사업 시행 공고', source: '행정안전부', url: 'https://www.mois.go.kr/frt/bbs/type013/commonSelectBoardArticle.do?bbsId=BBSMSTR_000000000006&nttId=122676', category: '금융·자금' },
            { id: 20, start: '2025-12-26', end: '2026-02-05', title: '도시철도법 시행령 일부개정안 입법예고', source: '국토교통부', url: 'https://www.molit.go.kr/USR/law/m_46/lst.jsp', category: '정책·규제' },
            { id: 21, start: '2025-12-22', end: '2026-01-19', title: '2026년 이화여대 캠퍼스타운 E-LIFE Challenge 창업경진대회', source: '비즈마당', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C128/AS/74/view.do?pblancId=PBLN_000000000116946', category: '창업·입주' },
            { id: 22, start: '2025-12-22', end: '2026-01-12', title: '2026년 이화여대 캠퍼스타운 스테이션 이화 배치 프로그램', source: '비즈마당', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C128/AS/74/view.do?pblancId=PBLN_000000000116945', category: '창업·입주' },
            { id: 23, start: '2025-12-23', end: '2026-01-16', title: '2026년 식품기능성평가지원 사업 공고', source: '비즈마당', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C128/AS/74/view.do?pblancId=PBLN_000000000116944', category: 'R&D·기술' },
            { id: 24, start: '2025-12-19', end: '2026-01-09', title: '[제주] 2026년 축산분야 보조금 지원사업 신청 공고', source: '비즈마당', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C128/AS/74/view.do?pblancId=PBLN_000000000116914', category: '지역특화' },
            { id: 25, start: '2025-12-22', end: '2026-01-22', title: '[경기] 남양주시 2026년 고추비가림재배시설 지원사업', source: '[경기] 지자체·산하기관', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C128/AS/74/view.do?pblancId=PBLN_000000000116942', category: '지역특화' },
            { id: 26, start: '2025-12-22', end: '2026-02-05', title: '[서울] 은평구 청년식당 신규입점 청년 모집 공고', source: '[서울] 지자체·산하기관', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C128/AS/74/view.do?pblancId=PBLN_000000000116913', category: '지역특화' },
            { id: 27, start: '2025-12-22', end: '2026-01-02', title: '[대전] 2025년 지역혁신 선도기업 연장 계획 공고', source: '[대전] 지자체·산하기관', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C128/AS/74/view.do?pblancId=PBLN_000000000116940', category: '지역특화' },
            { id: 28, start: '2025-12-22', end: '2026-01-16', title: '[제주] 지역 AI 대전환을 위한 AI솔루션ㆍ도입 활용지원사업', source: '비즈마당', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C128/AS/74/view.do?pblancId=PBLN_000000000116912', category: '지역특화' },
            { id: 29, start: '2025-12-22', end: '2026-01-23', title: '2026년 K-브랜드분쟁 대응전략 지원사업 사전신청제 시행', source: '비즈마당', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C128/AS/74/view.do?pblancId=PBLN_000000000116939', category: '수출·판로' },
            { id: 30, start: '2025-12-22', end: '2026-01-09', title: '2026년 스페인 바르셀로나 비타푸드 전시회 한국관 참가업체', source: '비즈마당', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C128/AS/74/view.do?pblancId=PBLN_000000000116911', category: '수출·판로' },
            { id: 31, start: '2025-12-20', end: '2025-12-30', title: '[전남] 순천시 2025년 2차 향토기업 인증 계획 재공고', source: '비즈마당', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C128/AS/74/view.do?pblancId=PBLN_000000000116938', category: '지역특화' },
            { id: 32, start: '2025-12-19', end: '2025-12-26', title: '[충북] 보은군 2026년 농작물 병해충 방제비지원 약제 공모', source: '비즈마당', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C128/AS/74/view.do?pblancId=PBLN_000000000116937', category: '지역특화' },
            { id: 33, start: '2025-12-19', end: '2026-01-06', title: '[제주] 2025년 지역혁신 선도기업 연장계획 공고', source: '비즈마당', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C128/AS/74/view.do?pblancId=PBLN_000000000116936', category: '지역특화' },
            { id: 34, start: '2025-11-17', end: '2025-12-17', title: '2026년 제1회 신제품(NEP)인증 신규신청(100대 전략품목 포함) 및 유효기간 연장신청 접수 공고', source: '비즈마당', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C128/AS/74/view.do?pblancId=PBLN_000000000115613', category: '인증' },
            { id: 35, start: '2026-01-01', end: '2026-01-31', title: '2025년 4분기 (최초) 고령자 고용지원금 신청서 접수 공고', source: '비즈마당', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C128/AS/74/view.do?pblancId=PBLN_000000000116856', category: '금융·자금' },
            { id: 36, start: '2025-12-17', end: '2026-02-02', title: '2026년 대한민국 패키징 대전 계획 공고(KOREA STAR AWARDS 2026)', source: '비즈마당', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C128/AS/74/view.do?pblancId=PBLN_000000000116875', category: '행사·네트워킹' },
            { id: 37, start: '2026-01-01', end: '2026-12-31', displayDate: '2026', title: '2026년 중소기업 정책자금 융자계획 공고', source: '비즈마당', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C128/AS/74/view.do?pblancId=PBLN_000000000116941', category: '금융·자금' },
            { id: 38, start: '2025-12-01', end: '2026-01-15', title: '[핵심전략기술확인] 26년 1월 접수 핵심전략기술 및 품목 확인신청', source: '소부장넷', url: 'https://www.sobujang.net/', category: '인증' },
            { id: 39, start: '2025-10-21', end: '2025-12-31', title: '[공급망안정화선도사업자확인] 2025년도 선도사업자 제2차 선정계획', source: '소부장넷', url: 'https://www.sobujang.net/', category: '인증' },
            { id: 40, start: '2025-01-01', end: '2025-01-31', title: '[협력모델] 2024년도 소재·부품·장비 기업 간 협력모델 후보 모집', source: '소부장넷', url: 'https://www.sobujang.net/', category: 'R&D·기술' },
            { id: 41, start: '2025-12-03', end: '2025-12-31', title: '[공통] 2025년 공급망 안정화 대국민 연구대회 시상식 안내', source: '소부장넷', url: 'https://www.sobujang.net/', category: '행사·네트워킹' },
            { id: 42, start: '2025-12-19', end: '2026-01-23', title: '2026년도 환경기술개발사업 신규과제 추진계획 공고_(2026)블록체인 기반 살생물제 정보 지능형 공정 관리기술개발 사업', source: 'NTIS', url: 'https://www.ntis.go.kr/rndgate/eg/un/ra/view.do?roRndUid=1252219&flag=rndList', category: 'R&D·기술' },
            { id: 43, start: '2025-12-19', end: '2026-01-23', title: '2026년도 환경기술개발사업 신규과제 추진계획 공고_(2026)자생생물활용CO2저감및유용물질전환기술개발사업(RD)', source: 'NTIS', url: 'https://www.ntis.go.kr/rndgate/eg/un/ra/view.do?roRndUid=1252218&flag=rndList', category: 'R&D·기술' },
            { id: 44, start: '2025-12-19', end: '2026-01-23', title: '2026년도 환경기술개발사업 신규과제 추진계획 공고_(2026)차세대초순수생산·공급및자립형생산공정기술개발사업(RD)', source: 'NTIS', url: 'https://www.ntis.go.kr/rndgate/eg/un/ra/view.do?roRndUid=1252215&flag=rndList', category: 'R&D·기술' },
            { id: 45, start: '2025-12-19', end: '2026-01-23', title: '2026년도 환경기술개발사업 신규과제 추진계획 공고_(2026)환경보건빅데이터구축및AI활용고도화기술개발사업(RD)', source: 'NTIS', url: 'https://www.ntis.go.kr/rndgate/eg/un/ra/view.do?roRndUid=1252214&flag=rndList', category: 'R&D·기술' },
            { id: 46, start: '2025-12-19', end: '2026-01-23', title: '2026년도 환경기술개발사업 신규과제 추진계획 공고_(2026)유기성 폐자원 활용 고품질 바이오연료화 기술개발사업', source: 'NTIS', url: 'https://www.ntis.go.kr/rndgate/eg/un/ra/view.do?roRndUid=1252213&flag=rndList', category: 'R&D·기술' },
            { id: 47, start: '2025-12-19', end: '2026-01-23', title: '2026년도 환경기술개발사업 신규과제 추진계획 공고_(2026)상수도 과불화화합물 대응 기술개발사업', source: 'NTIS', url: 'https://www.ntis.go.kr/rndgate/eg/un/ra/view.do?roRndUid=1252210&flag=rndList', category: 'R&D·기술' },
            { id: 48, start: '2026-01-01', end: '2026-06-30', displayDate: '2026 상반기', title: '서대문청년창업센터 기업입주공간 2026년 상반기 입주기업 모집 공고', source: 'K-Startup', url: 'https://www.k-startup.go.kr/', category: '창업·입주' },
            { id: 49, start: '2026-01-01', end: '2026-12-31', displayDate: '2026', title: '2026년 초격차 스타트업 프로젝트 민간검증 트랙 대·중견기업 추천 공고', source: 'K-Startup', url: 'https://www.k-startup.go.kr/', category: '창업·입주' },
            { id: 50, start: '2026-01-01', end: '2026-12-31', displayDate: '2026', title: '(연장) 2026년 창업존 운영사업 주관기관 모집', source: 'K-Startup', url: 'https://www.k-startup.go.kr/', category: '창업·입주' },
            { id: 51, start: '2026-01-01', end: '2026-12-31', displayDate: '2026', title: '2026년 대비 창업 초보를 위한 창업 A-Z 교육', source: 'K-Startup', url: 'https://www.k-startup.go.kr/', category: '창업·입주' },
            { id: 52, start: '2025-12-19', end: '2025-12-26', title: '2026년 자동차산업기술개발 신규 기획 과제 인터넷공시', source: '한국산업기술기획평가원', url: 'https://srome.keit.re.kr/srome/biz/perform/opnnPrpsl/retrieveIntrnDsclsDtlView.do?prgmId=XPG201020000&sbjtPlnnAncmId=000929', category: 'R&D·기술' },
            { id: 53, start: '2025-12-19', end: '2025-12-24', title: '2026년도 반도체분야 산업기술 R&D 기획대상과제 인터넷 공시', source: '한국산업기술기획평가원', url: 'https://srome.keit.re.kr/srome/biz/perform/opnnPrpsl/retrieveIntrnDsclsDtlView.do?prgmId=XPG201020000&sbjtPlnnAncmId=000928', category: 'R&D·기술' },
            { id: 54, start: '2025-12-24', end: '2026-01-23', title: '산업혁신기반구축사업 로드맵(26_28) 신규 수요조사', source: '한국산업기술진흥원', url: 'https://www.kiat.or.kr/front/board/boardContentsListPage.do?board_id=90', category: 'R&D·기술' },
            { id: 55, start: '2026-01-05', end: '2026-01-13', title: '2026년 첨단산업 특성화대학 재정지원 사업 및 특성화대학 지정 신청 통합 공고', source: '한국산업기술진흥원', url: 'https://www.kiat.or.kr/front/board/boardContentsView.do?contents_id=51cf64179130454aa7008971587f396f', category: 'R&D·기술' },
            { id: 56, start: '2026-01-19', end: '2026-01-22', title: '2026년 첨단산업 인재양성 부트캠프 사업공고', source: '한국산업기술진흥원', url: 'https://www.kiat.or.kr/front/board/boardContentsView.do?contents_id=166a152a632b42adba844f0d0568d38e', category: 'R&D·기술' },
            { id: 57, start: '2025-12-17', end: '2026-01-09', title: '2026년 1차 수출지원기반활용사업 참여기업 모집 공고 (수출바우처)', source: '중소벤처기업부', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C128/AS/74/view.do?pblancId=PBLN_000000000116842', category: '수출·판로' },
            { id: 58, start: '2025-12-08', end: '2026-01-07', title: '2026년도 자율형공장 구축 지원사업 공고 (스마트공장)', source: '중소벤처기업부', url: 'https://www.smart-factory.kr', category: '기술도입' },
            { id: 59, start: '2026-01-06', end: '2026-01-23', title: '2026년도 창업성장기술개발사업(디딤돌) 제1차 시행계획 공고', source: '중소벤처기업부', url: 'https://www.mss.go.kr/site/smba/ex/bbs/View.do?cbIdx=310&bcIdx=1064287', category: 'R&D·기술' },
            { id: 60, start: '2026-01-05', end: '2026-02-13', title: '2026년도 클라우드 종합솔루션 지원사업 참여기업 모집 공고', source: '중소벤처기업부', url: 'https://www.mss.go.kr/site/smba/ex/bbs/View.do?cbIdx=310&bcIdx=1064059', category: '기술도입' },
            { id: 61, start: '2025-12-18', end: '2026-01-05', title: '2026년도 혁신형기업 경쟁력강화사업 보조사업자 모집 공고', source: '중소벤처기업부', url: 'https://www.mss.go.kr/site/smba/ex/bbs/View.do?cbIdx=310&bcIdx=1064057', category: '금융·자금' },
            { id: 501, start: '2025-12-26', end: '2026-01-15', title: '중소기업기술개발 지원사업 운영요령 일부개정 행정예고', source: '중소벤처기업부', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C130/AY/115/view.do?article_seq=86452', category: '정책·규제' },
            { id: 502, start: '2025-12-26', end: '2026-01-15', title: '중소기업기술개발제품 우선구매제도 운영 등에 관한 시행세칙 고시 개정 행정예고', source: '중소벤처기업부', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C130/AY/115/view.do?article_seq=86427', category: '수출·판로' },
            { id: 503, start: '2025-12-26', end: '2026-01-15', title: '중소벤처기업부 규제예보 리스트 12월 1차 입법예고', source: '중소벤처기업부', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C130/AY/115/view.do?article_seq=86372', category: '정책·규제' },
            { id: 504, start: '2025-12-26', end: '2026-01-15', title: '제조공법이나 원자재를 기준으로 구성된 조합 등의 범위 고시 개정안 행정예고', source: '중소벤처기업부', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C130/AY/115/view.do?article_seq=86346', category: '정책·규제' },
            { id: 505, start: '2025-12-26', end: '2026-01-15', title: '벤처투자조합 등록 및 관리규정 일부개정안 고시', source: '중소벤처기업부', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C130/AY/115/view.do?article_seq=86225', category: '금융·자금' },
            { id: 506, start: '2025-12-26', end: '2026-01-15', title: '벤처투자회사 등록 및 관리규정 일부개정 고시', source: '중소벤처기업부', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C130/AY/115/view.do?article_seq=86224', category: '금융·자금' },
            { id: 507, start: '2025-12-26', end: '2026-01-15', title: '창업기획자 등록 및 관리규정 일부개정 고시', source: '중소벤처기업부', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C130/AY/115/view.do?article_seq=86223', category: '창업·입주' },
            { id: 508, start: '2025-12-26', end: '2026-01-15', title: '개인투자조합 등록 및 투자확인서 발급규정 일부개정 고시', source: '중소벤처기업부', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C130/AY/115/view.do?article_seq=86222', category: '금융·자금' },
            { id: 509, start: '2025-11-28', end: '2025-12-18', title: '창업기업 및 국외 창업기업 범위에 관한 규정 일부개정안 행정예고', source: '중소벤처기업부', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C130/AY/115/view.do?article_seq=86205', category: '정책·규제' },
            { id: 510, start: '2025-12-26', end: '2025-12-31', title: '중소벤처기업부 규제예보 리스트 11월 2차 입법예고 (참고)', source: '중소벤처기업부', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C130/AY/115/view.do?article_seq=86232', category: '정책·규제' },
            { id: 511, start: '2025-11-27', end: '2025-11-27', title: '장애인기업 확인 요령 일부개정 고시', source: '중소벤처기업부', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C130/AY/115/view.do?article_seq=86171', category: '정책·규제' },
            { id: 512, start: '2025-11-27', end: '2025-12-17', title: 'World Class 300 프로젝트 운영에 관한 요령 폐지(안) 행정예고', source: '중소벤처기업부', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C130/AY/115/view.do?pblancId=PBLN_000000000115613', category: '정책·규제' },
            { id: 513, start: '2025-11-21', end: '2025-12-11', title: '벤처투자조합 등록 및 관리규정 일부개정안 행정예고', source: '중소벤처기업부', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C130/AY/115/view.do?article_seq=86118', category: '금융·자금' },
            { id: 514, start: '2025-11-21', end: '2025-12-11', title: '벤처투자회사 등록 및 관리규정 일부개정안 행정예고', source: '중소벤처기업부', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C130/AY/115/view.do?article_seq=86117', category: '금융·자금' },
            { id: 515, start: '2025-11-21', end: '2025-12-11', title: '창업기획자 등록 및 관리규정 일부개정안 행정예고', source: '중소벤처기업부', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C130/AY/115/view.do?article_seq=86116', category: '창업·입주' },
            { id: 516, start: '2025-11-21', end: '2025-12-11', title: '개인투자조합 등록 및 투자확인서 발급규정 일부개정안 행정예고', source: '중소벤처기업부', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C130/AY/115/view.do?article_seq=86115', category: '금융·자금' },
            { id: 517, start: '2025-11-21', end: '2025-11-19', title: '중소기업자간 경쟁제품 직접생산 확인기준 일부개정 고시', source: '중소벤처기업부', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C130/AY/115/view.do?article_seq=86080', category: '수출·판로' },
            { id: 518, start: '2025-11-17', end: '2025-12-27', title: '벤처기업육성에 관한 특별법 시행령 일부개정령(안) 입법예고', source: '중소벤처기업부', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C130/AY/115/view.do?article_seq=86072', category: '정책·규제' },
            { id: 519, start: '2025-11-14', end: '2025-11-14', title: '중소벤처기업부 규제예보 리스트 11월 1차 입법예고', source: '중소벤처기업부', url: 'https://www.bizinfo.go.kr/web/lay1/bbs/S1T122C130/AY/115/view.do?article_seq=86037', category: '정책·규제' },
        ];

        // --- Icons (Lucide Style) - Fixed with Children ---
        const Icon = ({ className, children, ...props }) => (
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" className={className} {...props}>
                {children}
            </svg>
        );

        const Icons = {
            Search: (p) => <Icon {...p}><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></Icon>,
            Calendar: (p) => <Icon {...p}><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></Icon>,
            CalendarPlus: (p) => <Icon {...p}><path d="M8 2v4"/><path d="M16 2v4"/><rect width="18" height="18" x="3" y="4" rx="2"/><path d="M3 10h18"/><path d="M10 16h4"/><path d="M12 14v4"/></Icon>,
            ExternalLink: (p) => <Icon {...p}><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" x2="21" y1="14" y2="3"/></Icon>,
            Link: (p) => <Icon {...p}><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></Icon>,
            Grid: (p) => <Icon {...p}><rect width="7" height="7" x="3" y="3" rx="1"/><rect width="7" height="7" x="14" y="3" rx="1"/><rect width="7" height="7" x="14" y="14" rx="1"/><rect width="7" height="7" x="3" y="14" rx="1"/></Icon>,
            List: (p) => <Icon {...p}><line x1="8" x2="21" y1="6" y2="6"/><line x1="8" x2="21" y1="12" y2="12"/><line x1="8" x2="21" y1="18" y2="18"/><line x1="3" x2="3.01" y1="6" y2="6"/><line x1="3" x2="3.01" y1="12" y2="12"/><line x1="3" x2="3.01" y1="18" y2="18"/></Icon>,
            Star: (p) => <Icon {...p}><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></Icon>,
            Download: (p) => <Icon {...p}><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" x2="12" y1="15" y2="3"/></Icon>,
            ChevronDown: (p) => <Icon {...p}><path d="m6 9 6 6 6-6"/></Icon>,
            Refresh: (p) => <Icon {...p}><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/><path d="M8 16H3v5"/></Icon>,
            Bell: (p) => <Icon {...p}><path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"/><path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"/></Icon>,
            Briefcase: (p) => <Icon {...p}><rect width="20" height="14" x="2" y="7" rx="2" ry="2"/><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/></Icon>,
            Building: (p) => <Icon {...p}><rect width="16" height="20" x="4" y="2" rx="2" ry="2"/><path d="M9 22v-4h6v4"/><path d="M8 6h.01"/><path d="M16 6h.01"/><path d="M12 6h.01"/><path d="M12 10h.01"/><path d="M12 14h.01"/><path d="M16 10h.01"/><path d="M16 14h.01"/><path d="M8 10h.01"/><path d="M8 14h.01"/></Icon>,
            Copy: (p) => <Icon {...p}><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></Icon>,
            X: (p) => <Icon {...p}><line x1="18" x2="6" y1="6" y2="18"/><line x1="6" x2="18" y1="6" y2="18"/></Icon>,
            Zap: (p) => <Icon {...p}><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></Icon>,
            Sparkles: (p) => <Icon {...p}><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/></Icon>,
            Moon: (p) => <Icon {...p}><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></Icon>,
            Sun: (p) => <Icon {...p}><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></Icon>,
            Layers: (p) => <Icon {...p}><polygon points="12 2 2 7 12 12 22 7 12 2"/><polyline points="2 17 12 22 22 17"/><polyline points="2 12 12 17 22 12"/></Icon>,
        };

        // ... (Utilities, Modal, CalendarView, ItemCard - Same as previous) ...
        const cleanDate = (dateStr) => (!dateStr ? '' : dateStr.replace(/\./g, '-'));
        const getToday = () => { const d = new Date(); d.setHours(0, 0, 0, 0); return d; };
        const getDaysDiff = (targetDate) => {
            const today = getToday();
            const target = new Date(cleanDate(targetDate));
            if(isNaN(target.getTime())) return 999;
            return Math.ceil((target - today) / (1000 * 60 * 60 * 24));
        };
        const getStatus = (start, end) => {
            const today = getToday();
            const sDate = new Date(cleanDate(start));
            const eDate = new Date(cleanDate(end));
            if (isNaN(eDate.getTime())) return { label: 'TBD', color: 'text-slate-400 bg-slate-100 border-slate-200 dark:bg-slate-800 dark:border-slate-700' };
            if (sDate > today) return { label: 'UPCOMING', color: 'text-blue-600 bg-blue-50 border-blue-200 dark:bg-blue-900/30 dark:border-blue-800 dark:text-blue-400' };
            if (eDate < today) return { label: 'CLOSED', color: 'text-slate-500 bg-slate-100 border-slate-200 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-500' };
            const dDay = getDaysDiff(end);
            if (dDay <= 7) return { label: `URGENT D-${dDay}`, color: 'text-rose-600 bg-rose-50 border-rose-200 animate-pulse font-bold dark:bg-rose-900/30 dark:border-rose-800 dark:text-rose-400' };
            return { label: `OPEN D-${dDay}`, color: 'text-emerald-600 bg-emerald-50 border-emerald-200 dark:bg-emerald-900/30 dark:border-emerald-800 dark:text-emerald-400' };
        };
        const formatDate = (dateString) => {
            if(!dateString) return '-';
            const date = new Date(cleanDate(dateString));
            if(isNaN(date.getTime())) return dateString; 
            return `${date.getFullYear()}.${String(date.getMonth() + 1).padStart(2, '0')}.${String(date.getDate()).padStart(2, '0')}`;
        };
        const getGoogleCalendarUrl = (item) => {
            if (!item.start || !item.end) return '#';
            const startStr = new Date(cleanDate(item.start)).toISOString().replace(/-|:|\.\d\d\d/g, "").slice(0, 8);
            const endRaw = new Date(cleanDate(item.end)); endRaw.setDate(endRaw.getDate() + 1);
            const endStr = endRaw.toISOString().replace(/-|:|\.\d\d\d/g, "").slice(0, 8);
            return `https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(`[마감] ${item.title}`)}&dates=${startStr}/${endStr}&details=${encodeURIComponent(`URL: ${item.url}\n소관: ${item.source}`)}`;
        };

        const Modal = ({ isOpen, onClose, title, children }) => {
            if (!isOpen) return null;
            return (
                <div className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm transition-opacity" onClick={onClose}>
                    <div className="bg-white dark:bg-slate-900 rounded-2xl shadow-2xl w-full max-w-lg max-h-[85vh] flex flex-col overflow-hidden animate-fade-in border border-slate-200 dark:border-slate-700" onClick={e => e.stopPropagation()}>
                        <div className="p-5 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50/50 dark:bg-slate-800/50">
                            <h3 className="text-lg font-bold text-slate-800 dark:text-slate-100">{title}</h3>
                            <button onClick={onClose} className="p-2 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-full transition-colors text-slate-500 dark:text-slate-400"><Icons.X className="w-5 h-5" /></button>
                        </div>
                        <div className="overflow-y-auto p-0 custom-scrollbar flex-1">{children}</div>
                    </div>
                </div>
            );
        };

        const CalendarView = ({ data, favorites, toggleFavorite }) => {
            const [currentDate, setCurrentDate] = useState(new Date());
            const [selectedDateData, setSelectedDateData] = useState(null);
            
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();
            const firstDay = new Date(year, month, 1).getDay();
            const lastDate = new Date(year, month + 1, 0).getDate();
            
            const days = [];
            for (let i = 0; i < firstDay; i++) days.push(<div key={`empty-${i}`} className="min-h-[100px] bg-slate-50/50 dark:bg-slate-900/50 border-r border-b border-slate-200 dark:border-slate-800" />);
            
            for (let d = 1; d <= lastDate; d++) {
                const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(d).padStart(2, '0')}`;
                const items = data.filter(item => cleanDate(item.end) === dateStr);
                const isToday = new Date().toDateString() === new Date(year, month, d).toDateString();
                
                days.push(
                    <div key={d} onClick={() => items.length > 0 && setSelectedDateData({ date: `${year}.${month+1}.${d}`, items })} 
                         className={`min-h-[100px] p-2 border-r border-b border-slate-200 dark:border-slate-800 transition-colors ${items.length > 0 ? 'cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800' : 'bg-white dark:bg-slate-900'} ${isToday ? 'bg-blue-50/30 dark:bg-blue-900/20' : ''}`}>
                        <div className="flex justify-between items-start">
                            <span className={`text-sm font-bold w-6 h-6 flex items-center justify-center rounded-full ${isToday ? 'bg-blue-600 text-white' : 'text-slate-700 dark:text-slate-300'}`}>{d}</span>
                            {items.length > 0 && <span className="text-[10px] font-bold text-slate-400">{items.length}건</span>}
                        </div>
                        <div className="mt-1 space-y-1">
                            {items.slice(0, 2).map(item => (
                                <div key={item.id} className="text-[10px] px-1.5 py-0.5 rounded bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 shadow-sm truncate text-slate-600 dark:text-slate-400">
                                    {item.title}
                                </div>
                            ))}
                            {items.length > 2 && <div className="text-[10px] text-blue-500 font-medium pl-1">+{items.length - 2} 더보기</div>}
                        </div>
                    </div>
                );
            }

            return (
                <div className="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl shadow-sm overflow-hidden">
                    <div className="p-6 border-b border-slate-200 dark:border-slate-800 flex justify-between items-center bg-white dark:bg-slate-900">
                        <h2 className="text-xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2"><Icons.Calendar className="w-5 h-5 text-blue-600"/> {year}년 {month + 1}월</h2>
                        <div className="flex gap-1">
                            <button onClick={() => setCurrentDate(new Date(year, month - 1))} className="p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg text-slate-500">◀</button>
                            <button onClick={() => setCurrentDate(new Date())} className="px-3 py-1 text-xs font-bold bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-700">오늘</button>
                            <button onClick={() => setCurrentDate(new Date(year, month + 1))} className="p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg text-slate-500">▶</button>
                        </div>
                    </div>
                    <div className="grid grid-cols-7 text-center border-b border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-950">
                        {['일', '월', '화', '수', '목', '금', '토'].map((day, i) => (
                            <div key={day} className={`py-3 text-xs font-bold ${i === 0 ? 'text-rose-500' : 'text-slate-500 dark:text-slate-400'}`}>{day}</div>
                        ))}
                    </div>
                    <div className="grid grid-cols-7 bg-slate-100 dark:bg-slate-800 gap-px border-l border-t border-slate-200 dark:border-slate-800">{days}</div>
                    
                    <Modal isOpen={!!selectedDateData} onClose={() => setSelectedDateData(null)} title={`${selectedDateData?.date} 마감 공고`}>
                        <div className="divide-y divide-slate-100 dark:divide-slate-800">
                            {selectedDateData?.items.map(item => (
                                <div key={item.id} className="p-4 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors">
                                    <div className="flex gap-2 mb-1">
                                        <span className="text-[10px] font-bold px-1.5 py-0.5 rounded bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400">{item.source}</span>
                                        <span className="text-[10px] font-bold px-1.5 py-0.5 rounded bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400">{item.category}</span>
                                    </div>
                                    <a href={item.url} target="_blank" className="text-sm font-bold text-slate-800 dark:text-slate-200 hover:text-blue-600 dark:hover:text-blue-400 block mb-2">{item.title}</a>
                                    <div className="flex justify-end gap-2">
                                        <button onClick={() => toggleFavorite(item.id)} className={`p-1.5 rounded-md border ${favorites.includes(item.id) ? 'bg-amber-50 border-amber-200 text-amber-500 dark:bg-amber-900/30 dark:border-amber-800 dark:text-amber-400' : 'border-slate-200 dark:border-slate-700 text-slate-400'}`}><Icons.Star className="w-3.5 h-3.5" /></button>
                                        <a href={item.url} target="_blank" className="p-1.5 rounded-md border border-slate-200 dark:border-slate-700 text-slate-400 hover:text-blue-600 hover:border-blue-200"><Icons.ExternalLink className="w-3.5 h-3.5" /></a>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </Modal>
                </div>
            );
        };

        const ItemCard = ({ item, status, isFav, toggleFav, copyLink }) => (
            <div className="tech-card rounded-xl flex flex-col group relative overflow-hidden bg-white dark:bg-slate-900 border dark:border-slate-800">
                {/* Status Bar */}
                <div className={`h-1 w-full ${status.label.includes('URGENT') ? 'bg-gradient-to-r from-rose-500 to-orange-500' : 'bg-gradient-to-r from-blue-500 to-cyan-400'}`}></div>
                
                <div className="p-5 flex-1 flex flex-col">
                    <div className="flex justify-between items-start mb-3">
                        <span className={`tech-badge inline-flex items-center px-2 py-1 rounded text-[10px] font-bold border ${status.color}`}>
                            {status.label}
                        </span>
                        <div className="flex gap-1">
                            <button onClick={() => copyLink(item)} className="p-1.5 hover:bg-slate-100 dark:hover:bg-slate-800 rounded text-slate-400 transition-colors" title="링크 복사"><Icons.Copy className="w-3.5 h-3.5" /></button>
                            <button onClick={() => toggleFav(item.id)} className={`p-1.5 hover:bg-slate-100 dark:hover:bg-slate-800 rounded transition-colors ${isFav ? 'text-amber-400' : 'text-slate-400'}`} title="즐겨찾기"><Icons.Star className={`w-3.5 h-3.5 ${isFav ? 'fill-current' : ''}`} /></button>
                            <a href={getGoogleCalendarUrl(item)} target="_blank" className="p-1.5 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded text-slate-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors" title="내 캘린더에 일정 등록"><Icons.CalendarPlus className="w-3.5 h-3.5" /></a>
                            <a href={SHARED_CALENDAR_URL} target="_blank" className="p-1.5 hover:bg-pink-50 dark:hover:bg-pink-900/30 rounded text-slate-400 hover:text-pink-600 dark:hover:text-pink-400 transition-colors" title="공유 캘린더 보기"><Icons.Link className="w-3.5 h-3.5" /></a>
                        </div>
                    </div>
                    
                    <h3 className="text-base font-bold text-slate-800 dark:text-slate-200 leading-snug mb-3 line-clamp-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors">
                        <a href={item.url} target="_blank">{item.title}</a>
                    </h3>
                    
                    <div className="mt-auto space-y-3">
                        <div className="flex items-center gap-2 text-xs text-slate-500 dark:text-slate-400 font-medium">
                            <Icons.Building className="w-3.5 h-3.5" />
                            <span className="truncate">{item.source}</span>
                        </div>
                        
                        <div className="pt-3 border-t border-slate-100 dark:border-slate-800 flex justify-between items-center">
                            <div>
                                <div className="text-[9px] text-slate-400 font-bold uppercase tracking-wider mb-0.5">Due Date</div>
                                <div className={`font-mono text-sm font-bold ${status.label.includes('URGENT') ? 'text-rose-600 dark:text-rose-400' : 'text-slate-700 dark:text-slate-300'}`}>
                                    {formatDate(item.end)}
                                </div>
                            </div>
                            <span className="text-[10px] font-bold text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/30 px-2 py-1 rounded border border-blue-100 dark:border-blue-800">
                                {item.category}
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        );

        const App = () => {
            // ... (State, Effects - Modified fetch logic below) ...
            const [searchTerm, setSearchTerm] = useState('');
            const [filters, setFilters] = useState({ source: '전체', category: '전체', status: '전체' });
            const [viewMode, setViewMode] = useState('grid');
            const [isPersonaSBTL, setIsPersonaSBTL] = useState(false);
            const [favorites, setFavorites] = useState(() => JSON.parse(localStorage.getItem('favs') || '[]'));
            const [showFavOnly, setShowFavOnly] = useState(false);
            const [data, setData] = useState([]);
            const [loading, setLoading] = useState(true);
            const [dataSource, setDataSource] = useState('INIT');
            const [toast, setToast] = useState(null);
            const [lastUpdated, setLastUpdated] = useState(null);
            const [isDark, setIsDark] = useState(() => localStorage.getItem('theme') === 'dark');
            const [groupByPhase, setGroupByPhase] = useState(false);

            useEffect(() => {
                if (isDark) document.documentElement.classList.add('dark');
                else document.documentElement.classList.remove('dark');
                localStorage.setItem('theme', isDark ? 'dark' : 'light');
            }, [isDark]);

            // --- SMART CACHING FETCH LOGIC ---
            useEffect(() => {
                const load = async () => {
                    setLoading(true);
                    
                    const fetchWithProxy = async (proxyUrl) => {
                        const res = await fetch(proxyUrl);
                        if (!res.ok) throw new Error('Network response was not ok');
                        return await res.text();
                    };

                    const processData = (csv, source) => {
                        const parsed = Papa.parse(csv, { header: true, skipEmptyLines: true });
                        if (parsed.data.length > 0) {
                            const processed = parsed.data.map((item, idx) => ({
                                id: item.id || `row-${idx}`,
                                title: item.공고명 || item.title,
                                source: item.소관부처 || item.source,
                                category: item.지원분야 || item.category,
                                start: cleanDate(item.신청시작일자 || item.start),
                                end: cleanDate(item.신청종료일자 || item.end),
                                url: item.공고상세URL || item.url || '#'
                            })).filter(i => i.title);
                            
                            // Success! Save to Cache
                            localStorage.setItem('sbtl_cache_data', JSON.stringify(processed));
                            localStorage.setItem('sbtl_cache_time', new Date().toISOString());
                            
                            setData(processed);
                            setDataSource(source);
                            setLastUpdated(new Date());
                        } else {
                            throw new Error('No Data');
                        }
                    };

                    const useBackup = () => {
                        // 1. Try LocalStorage Cache
                        const cached = localStorage.getItem('sbtl_cache_data');
                        const cachedTime = localStorage.getItem('sbtl_cache_time');
                        
                        if (cached) {
                            console.log("Using LocalStorage Cache");
                            setData(JSON.parse(cached));
                            setDataSource('CACHE');
                            setLastUpdated(cachedTime ? new Date(cachedTime) : new Date());
                        } else {
                            // 2. Fallback to Hardcoded RAW_DATA
                            console.warn("Using Hardcoded Backup");
                            setData(RAW_DATA.map(i => ({...i, start: cleanDate(i.start), end: cleanDate(i.end)})));
                            setDataSource('BACKUP');
                            setLastUpdated(new Date());
                        }
                    };

                    try {
                        // 1. Direct Try
                        const res = await fetch(GOOGLE_SHEET_URL + '&t=' + Date.now());
                        if (!res.ok) throw new Error('Direct fetch failed');
                        const csv = await res.text();
                        processData(csv, 'LIVE');
                    } catch (e) {
                        console.warn("Direct fetch failed", e);
                        try {
                            // 2. Proxy 1: AllOrigins
                            const csv = await fetchWithProxy(`https://api.allorigins.win/raw?url=${encodeURIComponent(GOOGLE_SHEET_URL)}`);
                            processData(csv, 'PROXY (A)');
                        } catch (err2) {
                            console.warn("Proxy A failed", err2);
                            try {
                                // 3. Proxy 2: CORS Proxy IO
                                const csv = await fetchWithProxy(`https://corsproxy.io/?${encodeURIComponent(GOOGLE_SHEET_URL)}`);
                                processData(csv, 'PROXY (B)');
                            } catch (err3) {
                                console.warn("All fetches failed", err3);
                                useBackup();
                            }
                        }
                    } finally {
                        setLoading(false);
                    }
                };
                load();
            }, []);
            // ... (Rest of App component same as previous) ...

            // Save Favs
            useEffect(() => localStorage.setItem('favs', JSON.stringify(favorites)), [favorites]);

            // Utils
            const handleToast = (msg) => { setToast(msg); setTimeout(() => setToast(null), 2000); };
            const toggleFav = (id) => {
                setFavorites(prev => prev.includes(id) ? prev.filter(f => f !== id) : [...prev, id]);
                handleToast(favorites.includes(id) ? "즐겨찾기 해제" : "즐겨찾기 추가됨");
            };
            const copyLink = (item) => {
                const text = `${item.title}\n마감: ${item.end}\n링크: ${item.url}`;
                navigator.clipboard.writeText(text);
                handleToast("클립보드 복사 완료");
            };

            // Smart Grouping Logic
            const getPhase = (category) => {
                if (['R&D·기술', '정책·규제', '행사·네트워킹'].includes(category)) return 'Phase 1: 미래 기술 확보 (R&D/기획)';
                if (['창업·입주', '기술도입', '인력·교육', '인증', '지역특화'].includes(category)) return 'Phase 2: 인프라 및 역량 강화 (Build-up)';
                if (['금융·자금', '수출·판로'].includes(category)) return 'Phase 3: 시장 확장 및 도약 (Scale-up)';
                return 'Other (기타 지원)';
            };

            // Filter Logic
            const filteredData = useMemo(() => {
                return data.filter(item => {
                    if (showFavOnly && !favorites.includes(item.id)) return false;
                    if (searchTerm && !item.title.toLowerCase().includes(searchTerm.toLowerCase())) return false;
                    if (filters.source !== '전체' && item.source !== filters.source) return false;
                    if (filters.category !== '전체' && item.category !== filters.category) return false;
                    
                    const status = getStatus(item.start, item.end);
                    if (filters.status === '접수중' && !status.label.includes('OPEN') && !status.label.includes('URGENT')) return false;
                    if (filters.status === '마감임박' && !status.label.includes('URGENT')) return false;
                    if (filters.status === '접수예정' && !status.label.includes('UPCOMING')) return false;
                    if (filters.status === '마감' && !status.label.includes('CLOSED')) return false;

                    if (isPersonaSBTL) {
                        const keywords = ['소재', '부품', '장비', 'R&D', '기술', '제조', '스마트공장', '수출', '경기', '화성'];
                        const isRel = keywords.some(k => item.title.includes(k) || item.source.includes(k) || item.category.includes(k));
                        if (!isRel && item.category !== '정책·규제') return false;
                    }
                    return true;
                }).sort((a, b) => new Date(cleanDate(a.end)) - new Date(cleanDate(b.end)));
            }, [data, searchTerm, filters, isPersonaSBTL, favorites, showFavOnly]);

            // Grouped Data for Roadmap View
            const groupedData = useMemo(() => {
                if (!groupByPhase) return null;
                const groups = {
                    'Phase 1: 미래 기술 확보 (R&D/기획)': [],
                    'Phase 2: 인프라 및 역량 강화 (Build-up)': [],
                    'Phase 3: 시장 확장 및 도약 (Scale-up)': [],
                    'Other (기타 지원)': []
                };
                filteredData.forEach(item => {
                    const phase = getPhase(item.category);
                    if (groups[phase]) groups[phase].push(item);
                    else groups['Other (기타 지원)'].push(item);
                });
                return groups;
            }, [filteredData, groupByPhase]);

            // Stats
            const urgentCount = useMemo(() => filteredData.filter(i => getDaysDiff(i.end) >= 0 && getDaysDiff(i.end) <= 7).length, [filteredData]);
            const sources = useMemo(() => ['전체', ...[...new Set(data.map(i => i.source))].sort()], [data]);
            const categories = useMemo(() => ['전체', ...[...new Set(data.map(i => i.category))].sort()], [data]);

            const dateStr = useMemo(() => {
                const d = new Date();
                return `${d.getFullYear()}. ${String(d.getMonth()+1).padStart(2,'0')}. ${String(d.getDate()).padStart(2,'0')}`;
            }, []);

            return (
                <div className="min-h-screen pb-20 selection:bg-blue-100 dark:selection:bg-blue-900">
                    {/* Status Badge */}
                    <div className="fixed bottom-6 right-6 z-50 flex items-center gap-2 px-3 py-1.5 rounded-full bg-white/90 dark:bg-slate-800/90 backdrop-blur border border-slate-200 dark:border-slate-700 shadow-lg text-[10px] font-bold text-slate-500 dark:text-slate-400 hover:scale-105 transition-transform cursor-help">
                        <div className={`w-2 h-2 rounded-full ${dataSource === 'BACKUP' ? 'bg-amber-500' : 'bg-emerald-500 animate-pulse'}`} />
                        {dataSource === 'BACKUP' ? 'OFFLINE MODE' : dataSource === 'CACHE' ? 'CACHE MODE' : 'LIVE SYNC'}
                    </div>

                    {/* Toast */}
                    {toast && (
                        <div className="fixed bottom-8 left-1/2 -translate-x-1/2 z-50 px-4 py-2 bg-slate-800 dark:bg-white text-white dark:text-slate-900 text-xs font-bold rounded-lg shadow-xl animate-fade-in flex items-center gap-2">
                            <Icons.Zap className="w-3 h-3 text-yellow-400 dark:text-yellow-600" /> {toast}
                        </div>
                    )}

                    {/* Header */}
                    <header className="sticky top-0 z-40 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border-b border-slate-200 dark:border-slate-800 transition-colors duration-300">
                        {/* Top Bar */}
                        <div className="bg-slate-900 dark:bg-black text-slate-300 text-[10px] py-1.5 px-4 flex justify-between items-center">
                            <div className="flex gap-4">
                                <span className="font-mono tracking-wide opacity-80">SBTL ADVANCED MATERIALS INTELLIGENCE SYSTEM</span>
                                {lastUpdated && <span className="font-mono text-slate-500 dark:text-slate-600 hidden sm:inline">Data Updated: {lastUpdated.toLocaleString()}</span>}
                            </div>
                            <div className="flex items-center gap-4">
                                <span className="font-mono font-bold text-white">{dateStr}</span>
                                <button onClick={() => setIsDark(!isDark)} className="text-slate-400 hover:text-white transition-colors">
                                    {isDark ? <Icons.Sun className="w-3.5 h-3.5" /> : <Icons.Moon className="w-3.5 h-3.5" />}
                                </button>
                            </div>
                        </div>
                        
                        {/* Main Nav */}
                        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
                            <div className="flex items-center gap-3">
                                <div className="bg-gradient-to-br from-blue-600 to-indigo-600 text-white p-2 rounded-lg shadow-lg shadow-blue-500/30">
                                    <Icons.Briefcase className="w-5 h-5" />
                                </div>
                                <div className="leading-none">
                                    <div className="text-[10px] font-bold text-blue-600 dark:text-blue-400 uppercase tracking-widest mb-0.5">Gov. Support Watchlist</div>
                                    <h1 className="text-xl font-black text-slate-900 dark:text-white tracking-tight">2026 정부 지원사업</h1>
                                </div>
                            </div>

                            <div className="flex items-center gap-4">
                                <div className="hidden md:flex items-center gap-4 mr-4">
                                    <div className="text-right">
                                        <div className="text-[10px] text-slate-400 font-bold uppercase">Active Projects</div>
                                        <div className="text-lg font-black text-slate-800 dark:text-white leading-none tabular-nums">{filteredData.length}</div>
                                    </div>
                                    <div className="w-px h-8 bg-slate-100 dark:bg-slate-800"></div>
                                    <div className="text-right">
                                        <div className="text-[10px] text-rose-400 font-bold uppercase">Urgent (D-7)</div>
                                        <div className="text-lg font-black text-rose-500 leading-none tabular-nums">{urgentCount}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </header>

                    {/* Main Content */}
                    <main className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6">
                        
                        {/* Large View Toggle */}
                        <div className="flex justify-center pb-2">
                            <div className="bg-slate-200/50 dark:bg-slate-800/50 p-1.5 rounded-2xl flex gap-1 backdrop-blur-sm border border-slate-200/50 dark:border-slate-700/50 shadow-inner">
                                <button 
                                    onClick={() => setViewMode('grid')} 
                                    className={`flex items-center gap-2 px-6 py-3 rounded-xl text-sm font-bold transition-all duration-200 ${viewMode !== 'calendar' ? 'bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm ring-1 ring-black/5 dark:ring-white/5 scale-100' : 'text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 hover:bg-white/50 dark:hover:bg-slate-700/50 scale-95'}`}
                                >
                                    <Icons.Grid className="w-4 h-4" />
                                    공고 리스트
                                </button>
                                <button 
                                    onClick={() => setViewMode('calendar')} 
                                    className={`flex items-center gap-2 px-6 py-3 rounded-xl text-sm font-bold transition-all duration-200 ${viewMode === 'calendar' ? 'bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm ring-1 ring-black/5 dark:ring-white/5 scale-100' : 'text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 hover:bg-white/50 dark:hover:bg-slate-700/50 scale-95'}`}
                                >
                                    <Icons.Calendar className="w-4 h-4" />
                                    월별 캘린더
                                </button>
                            </div>
                        </div>

                        {/* Control Panel */}
                        <div className="glass-panel rounded-xl p-1 shadow-sm">
                            <div className="flex flex-col lg:flex-row gap-2">
                                {/* Search */}
                                <div className="relative flex-1">
                                    <div className="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"><Icons.Search className="w-4 h-4 text-slate-400" /></div>
                                    <input 
                                        type="text" 
                                        className="w-full h-12 pl-11 pr-4 bg-transparent text-sm font-medium placeholder-slate-400 focus:outline-none text-slate-800 dark:text-slate-200"
                                        placeholder="키워드, 기관명, 공고명 검색..."
                                        value={searchTerm}
                                        onChange={(e) => setSearchTerm(e.target.value)}
                                    />
                                </div>
                                <div className="w-px bg-slate-200 dark:bg-slate-700 my-2 hidden lg:block"></div>
                                
                                {/* Filters */}
                                <div className="flex items-center gap-2 p-2 overflow-x-auto">
                                    <select className="h-8 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg px-3 text-xs font-bold text-slate-600 dark:text-slate-300 focus:outline-none focus:border-blue-500 cursor-pointer min-w-[120px]" 
                                        value={filters.source} onChange={e => setFilters({...filters, source: e.target.value})}>
                                        {sources.map(s => <option key={s} value={s}>{s}</option>)}
                                    </select>
                                    <select className="h-8 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg px-3 text-xs font-bold text-slate-600 dark:text-slate-300 focus:outline-none focus:border-blue-500 cursor-pointer min-w-[120px]"
                                        value={filters.category} onChange={e => setFilters({...filters, category: e.target.value})}>
                                        {categories.map(c => <option key={c} value={c}>{c}</option>)}
                                    </select>
                                    <select className="h-8 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg px-3 text-xs font-bold text-slate-600 dark:text-slate-300 focus:outline-none focus:border-blue-500 cursor-pointer min-w-[100px]"
                                        value={filters.status} onChange={e => setFilters({...filters, status: e.target.value})}>
                                        {STATUSES.map(s => <option key={s} value={s}>{s}</option>)}
                                    </select>
                                    <button onClick={() => setGroupByPhase(!groupByPhase)} className={`h-8 px-4 rounded-lg text-xs font-bold flex items-center gap-1.5 transition-all whitespace-nowrap ${groupByPhase ? 'bg-indigo-600 text-white shadow-md shadow-indigo-200' : 'bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-500 dark:text-slate-400 hover:border-indigo-300'}`}>
                                        <Icons.Layers className="w-3 h-3" /> 로드맵 뷰
                                    </button>
                                    <button onClick={() => setIsPersonaSBTL(!isPersonaSBTL)} className={`h-8 px-4 rounded-lg text-xs font-bold flex items-center gap-1.5 transition-all whitespace-nowrap ${isPersonaSBTL ? 'bg-blue-600 text-white shadow-md shadow-blue-200' : 'bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-500 dark:text-slate-400 hover:border-blue-300'}`}>
                                        <Icons.Sparkles className="w-3 h-3" /> SBTL 맞춤
                                    </button>
                                    <button onClick={() => setShowFavOnly(!showFavOnly)} className={`h-8 w-8 flex items-center justify-center rounded-lg border transition-all ${showFavOnly ? 'bg-amber-50 dark:bg-amber-900/30 border-amber-200 dark:border-amber-800 text-amber-500' : 'bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-400 hover:text-amber-400'}`}>
                                        <Icons.Star className={`w-4 h-4 ${showFavOnly ? 'fill-current' : ''}`} />
                                    </button>
                                </div>
                            </div>
                        </div>

                        {/* Views */}
                        {loading ? (
                            <div className="text-center py-20"><div className="animate-spin w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"></div><p className="text-slate-400 text-sm font-medium">데이터 시스템 연동 중...</p></div>
                        ) : viewMode === 'calendar' ? (
                            <CalendarView data={filteredData} favorites={favorites} toggleFavorite={toggleFav} />
                        ) : groupByPhase ? (
                            <div className="space-y-8 animate-fade-in">
                                {['Phase 1: 미래 기술 확보 (R&D/기획)', 'Phase 2: 인프라 및 역량 강화 (Build-up)', 'Phase 3: 시장 확장 및 도약 (Scale-up)', 'Other (기타 지원)'].map(phase => (
                                    groupedData[phase]?.length > 0 && (
                                        <div key={phase}>
                                            <div className="flex items-center gap-4 mb-4">
                                                <h3 className="text-lg font-black text-slate-800 dark:text-slate-100">{phase}</h3>
                                                <div className="h-px flex-1 bg-slate-200 dark:bg-slate-800"></div>
                                                <span className="text-xs font-bold text-slate-400">{groupedData[phase].length}건</span>
                                            </div>
                                            <div className="grid gap-5 grid-cols-1 md:grid-cols-2 lg:grid-cols-3">
                                                {groupedData[phase].map(item => {
                                                    const status = getStatus(item.start, item.end);
                                                    const isFav = favorites.includes(item.id);
                                                    return <ItemCard key={item.id} item={item} status={status} isFav={isFav} toggleFav={toggleFav} copyLink={copyLink} />;
                                                })}
                                            </div>
                                        </div>
                                    )
                                ))}
                            </div>
                        ) : (
                            <div className={`grid gap-5 ${viewMode === 'grid' ? 'grid-cols-1 md:grid-cols-2 lg:grid-cols-3' : 'grid-cols-1'}`}>
                                {filteredData.map(item => {
                                    const status = getStatus(item.start, item.end);
                                    const isFav = favorites.includes(item.id);
                                    
                                    if(viewMode === 'list') {
                                        return (
                                            <div key={item.id} className="tech-card rounded-xl p-4 flex items-center gap-4 hover:bg-slate-50 dark:bg-slate-900 dark:hover:bg-slate-800 border dark:border-slate-800">
                                                <div className={`w-1.5 self-stretch rounded-full ${status.label.includes('URGENT') ? 'bg-rose-500' : 'bg-blue-500'}`}></div>
                                                <div className="flex-1 min-w-0">
                                                    <div className="flex items-center gap-2 mb-1">
                                                        <span className={`text-[10px] font-bold px-1.5 py-0.5 rounded border ${status.color}`}>{status.label}</span>
                                                        <span className="text-[10px] font-medium text-slate-500 dark:text-slate-400">{item.source}</span>
                                                    </div>
                                                    <a href={item.url} target="_blank" className="text-sm font-bold text-slate-800 dark:text-slate-200 truncate block hover:text-blue-600 dark:hover:text-blue-400">{item.title}</a>
                                                </div>
                                                <div className="text-right hidden sm:block">
                                                    <div className="text-[10px] text-slate-400 font-bold uppercase tracking-wider">Deadline</div>
                                                    <div className="font-mono text-sm font-bold text-slate-700 dark:text-slate-300">{formatDate(item.end)}</div>
                                                </div>
                                                <div className="flex gap-1">
                                                    <button onClick={() => toggleFav(item.id)} className={`p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 ${isFav ? 'text-amber-400' : 'text-slate-300'}`}><Icons.Star className={`w-4 h-4 ${isFav ? 'fill-current' : ''}`} /></button>
                                                    <a href={item.url} target="_blank" className="p-2 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/30 text-slate-400 hover:text-blue-600 dark:hover:text-blue-400"><Icons.ExternalLink className="w-4 h-4" /></a>
                                                </div>
                                            </div>
                                        )
                                    }

                                    return <ItemCard key={item.id} item={item} status={status} isFav={isFav} toggleFav={toggleFav} copyLink={copyLink} />;
                                })}
                            </div>
                        )}
                        
                        {/* Empty State */}
                        {!loading && filteredData.length === 0 && (
                            <div className="text-center py-20 bg-white dark:bg-slate-900 border border-dashed border-slate-200 dark:border-slate-800 rounded-2xl">
                                <div className="bg-slate-50 dark:bg-slate-800 p-4 rounded-full inline-block mb-4"><Icons.Search className="w-8 h-8 text-slate-400" /></div>
                                <h3 className="text-lg font-bold text-slate-800 dark:text-slate-200">검색 결과가 없습니다</h3>
                                <button onClick={() => {setSearchTerm(''); setFilters({source:'전체', category:'전체', status:'전체'}); setIsPersonaSBTL(false);}} 
                                    className="mt-4 px-4 py-2 bg-slate-800 dark:bg-slate-700 text-white text-sm font-bold rounded-lg hover:bg-slate-700 transition-colors">
                                    필터 초기화
                                </button>
                            </div>
                        )}
                    </main>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>